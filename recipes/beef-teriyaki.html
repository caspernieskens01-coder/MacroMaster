<!doctype html>
<html lang="nl"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Beef Teriyaki — MACROMASTER</title>
<style>
:root{--brand:#05dbe1;--bg:#000;--text:#e8f0f2;--muted:#a8b3b8;--card:#0b0f14;--bd:#1b2730;--r:18px;--max:1000px}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui}
a{color:#05dbe1;text-decoration:none}.wrap{max-width:var(--max);margin:auto;padding:24px}
h1{margin:8px 0 4px}.card{background:var(--card);border:1px solid var(--bd);border-radius:var(--r);padding:18px}
.grid{display:grid;gap:18px} @media(min-width:900px){.grid{grid-template-columns:1.2fr .8fr}}
.row{display:flex;gap:12px;flex-wrap:wrap;margin:8px 0}
label{font-size:12px;color:var(--muted)} input,button{background:#0c141a;border:1px solid #22323c;color:var(--text);border-radius:12px;padding:10px 12px;font:inherit}
input[type=number]{width:120px} .btn{background:var(--brand);color:#000;font-weight:800;border:0;cursor:pointer}
.kpi{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.kpi .card{padding:12px;text-align:center} .kpi h3{margin:6px 0 0} .kpi p{margin:0;color:var(--muted);font-size:12px}
table{width:100%;border-collapse:collapse;margin-top:8px;overflow:hidden;border-radius:12px}
th,td{padding:10px;border-bottom:1px solid #22323c;text-align:left;font-size:14px} th{color:#c4d0d6;font-weight:700}
.divider{height:1px;background:linear-gradient(90deg,rgba(255,255,255,.05),var(--brand),rgba(255,255,255,.05));opacity:.35;margin:14px 0}
</style></head>
<body>
  <div class="wrap">
    <a href="../index.html">← Terug</a>
    <h1>Beef Teriyaki</h1>
    <p style="color:var(--muted)">Suikervrij, zonder binders. Met gewone sojasaus; glans door reductie (inkoken).</p>

    <div class="grid">
      <section class="card">
        <div class="row">
          <div><label>Porties</label><br><input id="servings" type="number" min="1" step="1" value="4"></div>
          <div><label>Vlees p.p. (g)</label><br><input id="target-meat" type="number" min="0" step="10" value="100"></div>
          <div><label>Rijst p.p. (g droog)</label><br><input id="target-rice" type="number" min="0" step="5" value="80"></div>
          <div><label>Groente p.p. (g)</label><br><input id="target-veg" type="number" min="0" step="25" value="200"></div>
          <div><label>Water in saus (ml, totaal)</label><br><input id="water-ml" type="number" min="0" step="5" value="20"></div>
          <div style="align-self:end"><button class="btn" id="apply">Toepassen</button></div>
        </div>

        <div class="divider"></div>
        <h3>Ingrediënten</h3>
        <table id="ingredients-table">
          <thead><tr><th>Ingrediënt</th><th>Hoeveelheid</th><th>Eiwit</th><th>Khd</th><th>Vet</th><th>kcal</th></tr></thead>
          <tbody></tbody>
          <tfoot><tr><td><b>Totaal</b></td><td id="t-q"></td><td id="t-p"></td><td id="t-c"></td><td id="t-f"></td><td id="t-k"></td></tr></tfoot>
        </table>

        <div class="divider"></div>
        <h3>Bereiding</h3>
        <ol style="color:var(--muted)">
          <li><b>Marineren (15–60 min):</b> Meng sojasaus 80 ml, rijstazijn 30 ml, sesamolie 1 tl (≈5 g), knoflook 2 tenen (≈6 g), gember 20 g + 20 ml water. 2 el apart. Rest over het vlees.</li>
          <li><b>Bakken:</b> Dep vlees droog. Wok/koekenpan heet met 1 el olie. Bak in 1–2 min per batch bruin. Uit de pan.</li>
          <li><b>Inkoken:</b> Rauwe marinade in pan, 2–3 min hard koken tot stroperige bellen (reductie ±⅓–½).</li>
          <li><b>Afmaken:</b> Vlees terug, 20–30 s omscheppen tot glans. Eventueel 1–2 el water erbij voor dun glazuur.</li>
        </ol>
      </section>

      <aside class="card">
        <h3>Macro's (hele bereiding)</h3>
        <div class="kpi" style="margin-top:8px">
          <div class="card"><p>Eiwit</p><h3 id="kpi-p">–</h3></div>
          <div class="card"><p>Koolhydraten</p><h3 id="kpi-c">–</h3></div>
          <div class="card"><p>Vetten</p><h3 id="kpi-f">–</h3></div>
          <div class="card"><p>Calorieën</p><h3 id="kpi-k">–</h3></div>
        </div>
      </aside>
    </div>
  </div>

<script>
const FOOD_DB={
  runderreepjes_g:{label:"Runderreepjes (rauw)", unit:"g",  P:22, C:0,  F:4,   K:130},
  witte_rijst_g:  {label:"Witte rijst (droog)",  unit:"g",  P:7,  C:78, F:0.6, K:360},
  broccoli_g:     {label:"Broccoli (rauw)",      unit:"g",  P:3,  C:7,  F:0.4, K:35},
  olie_g:         {label:"Neutrale olie",        unit:"g",  P:0,  C:0,  F:100, K:900},
  sesamolie_g:    {label:"Sesamolie",            unit:"g",  P:0,  C:0,  F:100, K:900},
  sojasaus_ml:    {label:"Sojasaus (ml)",        unit:"ml", P:5,  C:6,  F:0,   K:80},
  rijstazijn_ml:  {label:"Rijstazijn (ml)",      unit:"ml", P:0,  C:0,  F:0,   K:3},
  knoflook_g:     {label:"Knoflook",             unit:"g",  P:6.4,C:33, F:0.5, K:149},
  gember_g:       {label:"Gember",               unit:"g",  P:1.8,C:18, F:0.8, K:80},
  water_ml:       {label:"Water (ml)",           unit:"ml", P:0,  C:0,  F:0,   K:0}
};
const BASE={ portions:4, marinade:[
  {key:"sojasaus_ml", qty:80}, {key:"rijstazijn_ml", qty:30}, {key:"sesamolie_g", qty:5},
  {key:"knoflook_g", qty:6}, {key:"gember_g", qty:20}
]};
const R=(x,n=0)=>{const m=10**n;return Math.round(x*m)/m};
const M=(k,a)=>{const f=FOOD_DB[k];const t=a/100;return {P:f.P*t,C:f.C*t,F:f.F*t,K:f.K*t}};
function build(set){
  const L=[];
  L.push({key:"runderreepjes_g",amount:set.meat_pp*set.portions});
  if(set.rice_pp>0) L.push({key:"witte_rijst_g",amount:set.rice_pp*set.portions});
  if(set.veg_pp>0)  L.push({key:"broccoli_g",amount:set.veg_pp*set.portions});
  L.push({key:"olie_g",amount:10});
  const s=set.portions/BASE.portions;
  BASE.marinade.forEach(m=>L.push({key:m.key,amount:m.qty*s}));
  if(set.water_ml>0) L.push({key:"water_ml",amount:set.water_ml*s});
  return L;
}
function read(){return{
  portions:Math.max(1,parseInt(servings.value||'4',10)),
  meat_pp: Math.max(0,parseFloat(target-meat.value||'100')),
  rice_pp: Math.max(0,parseFloat(target-rice.value||'80')),
  veg_pp:  Math.max(0,parseFloat(target-veg.value||'200')),
  water_ml:Math.max(0,parseFloat(water-ml.value||'20'))
}}
</script>
<script>
// (querySelector-varianten zodat bovenstaand read() werkt in elke browser)
function getVals(){
  return {
    portions:Math.max(1,parseInt(document.querySelector('#servings').value||'4',10)),
    meat_pp: Math.max(0,parseFloat(document.querySelector('#target-meat').value||'100')),
    rice_pp: Math.max(0,parseFloat(document.querySelector('#target-rice').value||'80')),
    veg_pp:  Math.max(0,parseFloat(document.querySelector('#target-veg').value||'200')),
    water_ml:Math.max(0,parseFloat(document.querySelector('#water-ml').value||'20'))
  };
}
function render(list){
  const tb=document.querySelector('#ingredients-table tbody');
  tb.innerHTML='';
  let tQ=0,tP=0,tC=0,tF=0,tK=0;
  list.forEach(it=>{
    const f=FOOD_DB[it.key], m=M(it.key,it.amount); tQ+=it.amount; tP+=m.P; tC+=m.C; tF+=m.F; tK+=m.K;
    const unit=f.unit==='ml'?'ml':'g';
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${f.label}</td><td>${R(it.amount)} ${unit}</td><td>${R(m.P,1)}</td><td>${R(m.C,1)}</td><td>${R(m.F,1)}</td><td>${R(m.K,0)}</td>`;
    tb.appendChild(tr);
  });
  document.querySelector('#t-q').textContent=`${R(tQ)} (g/ml)`;
  document.querySelector('#t-p').textContent=R(tP,1);
  document.querySelector('#t-c').textContent=R(tC,1);
  document.querySelector('#t-f').textContent=R(tF,1);
  document.querySelector('#t-k').textContent=R(tK,0);
  document.querySelector('#kpi-p').textContent=`${R(tP,1)} g`;
  document.querySelector('#kpi-c').textContent=`${R(tC,1)} g`;
  document.querySelector('#kpi-f').textContent=`${R(tF,1)} g`;
  document.querySelector('#kpi-k').textContent=`${R(tK,0)} kcal`;
}
function buildNow(){
  const S=getVals();
  const BASEP=4;
  // herbouw met dezelfde logica als boven
  const L=[];
  L.push({key:"runderreepjes_g",amount:S.meat_pp*S.portions});
  if(S.rice_pp>0) L.push({key:"witte_rijst_g",amount:S.rice_pp*S.portions});
  if(S.veg_pp>0)  L.push({key:"broccoli_g",amount:S.veg_pp*S.portions});
  L.push({key:"olie_g",amount:10});
  const s=S.portions/BASEP;
  [{key:"sojasaus_ml",qty:80},{key:"rijstazijn_ml",qty:30},{key:"sesamolie_g",qty:5},{key:"knoflook_g",qty:6},{key:"gember_g",qty:20}]
    .forEach(m=>L.push({key:m.key,amount:m.qty*s}));
  if(S.water_ml>0) L.push({key:"water_ml",amount:S.water_ml*s});
  render(L);
}
document.querySelector('#apply').addEventListener('click', buildNow);
buildNow();
</script>
</body></html>
